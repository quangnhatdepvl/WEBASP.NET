@using WebApplication1.Models
@model PagedList.IPagedList<WebApplication1.Models.Sach>
@using PagedList.Mvc
@{
    ViewBag.Title = "Sach";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdminHeader.cshtml";
}

@helper Truncate(String input, int length)
{
    if (input.Length < length)
    {
        @input
    }
    else
    {
        @input.Substring(0, length)<text>...</text>
    }
}



<div class="container" style="max-width: 100%;">
    <button class="btn btn-white btn-warning btn-round" style="position: absolute;right: 10px;background: #f94e2f;">


        @Html.ActionLink("Thêm mới", "ThemMoiSach")

    </button>
    <br />
    <br />
    <h3 style="text-align:center">QUẢN LÝ SÁCH</h3>


    <table class="table table-striped table-bordered dataTable no-footer" role="grid" aria-describedby="datatable-buttons_info" >
        <tr style="background-color:gray; font-size: 14px" >
            <th style="width: 15%;">
                @Html.DisplayNameFor(model => model.First().TenSach)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().price)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().Mota)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().Anhbia)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().NgayCapNhat)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().SoLuongTon)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().MaCD)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().MaNXB)
            </th>
            <th>Thao tác</th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Truncate(item.TenSach, 20)

                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.price)
                </td>
                <td>
                    @Truncate(item.Mota, 50)
                </td>
                <td>
                    <img src="~/images/@item.Anhbia" style="  width: 100px;height: 100px;border-radius: 0%;">
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NgayCapNhat)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SoLuongTon)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ChuDe.TenChuDe)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NhaXuatBan.TenNXB)
                </td>
                <td style="line-height: 3;padding: 0.1rem 0.2rem;">
                    <button title="Xóa  " type="button"
                            class="btn btn-xs btn-light btn-round" style="font-size: 12px;">

                        @Html.ActionLink("Sửa", "Suasach", new { id = item.MaSach })

                    </button>
                    <button title="Sửa " class="btn btn-xs btn-light btn-round text-center" style="font-size: 12px;">

                        @Html.ActionLink("Chi Tiết", "Chitietsach", new { id = item.MaSach })

                    </button>

                    <button type="button" class="btn btn-xs btn-light btn-round text-center" style="font-size: 12px;">
                        @Html.ActionLink("Xóa", "Xacnhanxoa", new { id = item.MaSach })
                    </button>

                </td>
            </tr>
        }



    </table>

    Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)/@Model.PageCount
    <div class="sach_area">
        @Html.PagedListPager(Model,page => Url.Action("Sach", new { page = page }),
            PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(new AjaxOptions()
            { HttpMethod = "GET", UpdateTargetId = "sach_area" }))

    </div>
    <style>
        .sach_area li {
            display: inline;
            border: 10px solid white;
            margin: 5px 5px 2px 2px;
        }
    </style>
</div>